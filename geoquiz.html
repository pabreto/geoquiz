<!DOCTYPE html>
<html>
	<head>
		<title>Geoquiz</title>
		<meta charset="utf-8" >
		<meta name="description" content="jeu géographie" >
		<meta name="viewport" content="initial-scale=1.0">
		<link rel="stylesheet" href="geoquiz.css" />
		<script type="text/javascript" src="functions.js"></script>
		<style>
      html, body {
        height: 100%;
        margin: 20;
        padding: 200;
      }
      #map {
        height: 80%;
				margin: 20;
        padding: 2000;
      }
    </style>
	</head>

	<body>
		<div class="contenedor">
			<header>
				<h1>Geoquiz</h1>
				<a href="#">Les règles</a>
					<p> 2 lettres au hasard, trouve 2 villes commençant par ces lettres, plus elles sont proches, plus ça fait de points. </p>

		  </header>
		  <main class="contenido-principal" role="main">
		  
		  <script type="text/javascript">
			function showDiv(toggle) {
				var e = document.getElementById(toggle);
				e.style.display = ((e.style.display!='none') ? 'none' : 'block');
			
	
				function getTimeRemaining(endtime) {
					var t = Date.parse(endtime) - Date.parse(new Date());
					var seconds = Math.floor((t / 1000) % 60);
					var minutes = Math.floor((t / 1000 / 60) % 60);
					var hours = Math.floor((t / (1000 * 60 * 60)) % 24);
					var days = Math.floor(t / (1000 * 60 * 60 * 24));
					return {
						'total': t,
						'days': days,
						'hours': hours,
						'minutes': minutes,
						'seconds': seconds
					};
				}

				function initializeClock(id, endtime) {
					var clock = document.getElementById(id);
					var daysSpan = clock.querySelector('.days');
					var hoursSpan = clock.querySelector('.hours');
					var minutesSpan = clock.querySelector('.minutes');
					var secondsSpan = clock.querySelector('.seconds');

					function updateClock() {
						var t = getTimeRemaining(endtime);

						daysSpan.innerHTML = t.days;
						hoursSpan.innerHTML = ('0' + t.hours).slice(-2);
						minutesSpan.innerHTML = ('0' + t.minutes).slice(-2);
						secondsSpan.innerHTML = ('0' + t.seconds).slice(-2);

						if (t.total <= 0) {
								clearInterval(timeinterval);
						}
					}

					updateClock();
					var timeinterval = setInterval(updateClock, 1000);
				}

				var deadline = new Date(Date.parse(new Date()) + 90 * 1000);
				initializeClock('clockdiv', deadline);
			}
			
		   function random_letter(id){
				let letter = String.fromCharCode(Math.floor((Math.random() * 25) + 65));
				document.write(letter);
		   }
		   
		   function get_distance(ville1, ville2) {
				dlon = lon2 - lon1 
				dlat = lat2 - lat1 
				a = (sin(dlat/2))^2 + cos(lat1) * cos(lat2) * (sin(dlon/2))^2 
				c = 2 * atan2( sqrt(a), sqrt(1-a) ) 
				d = R * c (where R is the radius of the Earth)
		   }
		   </script>
		   
			<input type="button" name="answer" onclick="showDiv('cestparti')">C'est parti!</input>

			<div id="cestparti" style="display:none;" class="answer_list" >
				<div id="clockdiv">
				
				<!--		-->							

					<div id="days">
						<span class="days"></span>
						<div class="smalltext">Days</div>
					</div>
					<div id="hours">
						<span class="hours"></span>
						<div class="smalltext">Hours</div>
					</div>
					
					<div id="minutes">
						<span class="minutes"></span>
						<div class="smalltext">Minute</div>
					</div>
					<div id="secondes">
						<span class="seconds"></span>
						<div class="smalltext">Seconds</div>
					</div>
				</div>
				
				<br>
				<br>
				<br>
				
				<form class="cadran recherche">
				
						<label for="ville1">Ville commençant par <script>random_letter();</script> :</label>
							<input id="ville1" type="text" placeholder="Tape le point de départ" autocomplete="off" required ><br>

						<label for="ville2">Ville commençant par <script>random_letter();</script> :</label>
							<input id="ville2" type="text" placeholder="Tape ta destination" autocomplete="off" required ><br>

					    	</div> <!-- div controls-->
	</form> <!-- form cadran recherche-->
				

				</section>

				<section>
					<div id="score"></div>
						<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD-DclMWk7HxK6EFs5ema2f5zJdpUh_DHk&libraries=places&callback=initMap"
						async defer></script>
				</section>
		</div>

   		</main>
	</body>
</html>
